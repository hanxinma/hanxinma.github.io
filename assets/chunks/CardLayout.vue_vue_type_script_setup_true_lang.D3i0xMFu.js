import{g as f}from"./share.DGSJN8BX.js";import{u as v}from"./theme.Z4vRvFbF.js";import{c as a}from"./confetti.module.BxKCmZ95.js";import{j as g,a as x,w as y,k as m,p as c,M as d,E as s,z as h,l as b,m as C,v as u,n as w}from"./framework.C5AoO3Cs.js";function k(){var i=5e3,n=Date.now()+i,l={startVelocity:30,spread:360,ticks:60,zIndex:0,particleCount:30,shapes:[a.shapeFromText({text:"快",scalar:7}),a.shapeFromText({text:"强",scalar:8}),a.shapeFromText({text:"😆",scalar:4}),a.shapeFromText({text:"🎉",scalar:5}),a.shapeFromText({text:"👍",scalar:5})],scalar:2};function r(t,e){return Math.random()*(e-t)+t}var o=setInterval(function(){var t=n-Date.now();if(t<=0)return clearInterval(o);var e=50*(t/i);a({...l,particleCount:e,origin:{x:r(.1,.3),y:Math.random()-.2}}),a({...l,particleCount:e,origin:{x:r(.7,.9),y:Math.random()-.2}}),a({...l,shapes:["circle"],particleCount:e,origin:{x:r(.7,.9),y:Math.random()-.2}})},250)}const F={class:"flex justify-center mb-10"},T=["value","max"],M={class:"flex justify-center mt-10"},S={key:0,class:"text-gray-500 flex justify-between"},_={class:"text-gray-500"},z=g({__name:"CardLayout",props:{id:{},progress:{},max:{},isCorrect:{type:Boolean}},emits:["restart"],setup(i){const n=i,l=n.id||f(),r=v(`yima_${l}-complete`,!1),o=x(!1);return y(()=>n.progress,async(t,e)=>{!r.value&&t===n.max&&t>e&&(r.value=!0,o.value=!0,await w(),k())}),(t,e)=>(c(),m(d,null,[s("div",{class:C(["md:w-2/3 w-full shadow-sm my-12 pb-14 bg-opacity-10 transition-color rounded-md",{"bg-red-700":!t.isCorrect,"bg-slate-500":t.isCorrect}])},[s("div",F,[s("progress",{class:"progress w-full",value:t.progress,max:t.max},null,8,T)]),o.value?(c(),m(d,{key:0},[e[2]||(e[2]=s("div",{class:"p-10 text-6xl text-center font-bold text-orange-800 font-sans tracking-widest -rotate-6"}," 🎉恭喜完成练习!!",-1)),s("div",M,[s("button",{class:"btn btn-success",onClick:e[0]||(e[0]=p=>o.value=!1)},"继续练习")])],64)):b(t.$slots,"default",{key:1})],2),o.value?h("",!0):(c(),m("div",S,[s("div",_,"训练进度： "+u(t.progress)+" / "+u(t.max),1),s("button",{class:"btn btn-ghost btn-sm font-light",onClick:e[1]||(e[1]=p=>t.$emit("restart"))},"restart")]))],64))}});export{z as _};
